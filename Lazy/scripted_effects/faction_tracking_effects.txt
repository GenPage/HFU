######################################
####### GENERATED CODE WARNING #######
######################################
# This file is generated code - any
# changes made directly to these files
# will likely be lost on future
# updates. If you need to tweak the
# functionality in this file, please
# contact wtchappell ('the witch') for
# help in improving its functionality.
######################################
####### GENERATED CODE WARNING #######
######################################
create_or_join_boneyard_brotherhood = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_boneyard_brotherhood (scripted_effect) entered"
	}
	if = {
		limit = {
			boneyard_brotherhood_exists = no
		}
		leave_current_faction = yes
		create_faction = boneyard_brotherhood
		mark_as_boneyard_brotherhood_member = yes
		set_variable = { GLOBAL.boneyard_brotherhood_leader = THIS }
	}
	else_if = {
		join_boneyard_brotherhood = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_boneyard_brotherhood (scripted_effect) exited"
	}
}

ask_to_join_boneyard_brotherhood = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_boneyard_brotherhood (scripted_effect) entered"
	}
	var:GLOBAL.boneyard_brotherhood_leader = {
		country_event = {
			id = boneyard_brotherhood_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_boneyard_brotherhood (scripted_effect) exited"
	}
}

join_boneyard_brotherhood = {
	custom_effect_tooltip = join_boneyard_brotherhood_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_boneyard_brotherhood (scripted_effect) entered"
		}
		if = {
			limit = { is_boneyard_brotherhood_member = no }
			leave_current_faction = yes
			var:GLOBAL.boneyard_brotherhood_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_boneyard_brotherhood - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = boneyard_brotherhood_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_boneyard_brotherhood - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_boneyard_brotherhood_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_boneyard_brotherhood (scripted_effect) exited"
		}
	}
}

leave_boneyard_brotherhood = {
	custom_effect_tooltip = leave_boneyard_brotherhood_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_boneyard_brotherhood (scripted_effect) entered"
		}
		if = {
			limit = { is_boneyard_brotherhood_member = yes }
			unmark_as_boneyard_brotherhood_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_boneyard_brotherhood (scripted_effect) exited"
		}
	}
}

mark_as_boneyard_brotherhood_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_boneyard_brotherhood_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_boneyard_brotherhood_member = no }
		set_variable = { current_faction = BON }
		add_boneyard_brotherhood_ally_strategies = yes
		add_other_boneyard_brotherhood_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_boneyard_brotherhood_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_boneyard_brotherhood_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_boneyard_brotherhood_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_boneyard_brotherhood_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_boneyard_brotherhood_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_boneyard_brotherhood_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_boneyard_brotherhood_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_boneyard_brotherhood_member = yes }
		remove_boneyard_brotherhood_ally_strategies = yes
		remove_other_boneyard_brotherhood_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_boneyard_brotherhood_member = yes
			}
			unmark_as_boneyard_brotherhood_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_boneyard_brotherhood_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_boneyard_brotherhood_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_boneyard_brotherhood_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_boneyard_brotherhood_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_boneyard_brotherhood_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_boneyard_brotherhood_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_boneyard_brotherhood_ally_strategies (scripted_effect) exited"
	}
}

remove_boneyard_brotherhood_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_boneyard_brotherhood_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_boneyard_brotherhood_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_boneyard_brotherhood_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_brotherhood_of_steel = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_brotherhood_of_steel (scripted_effect) entered"
	}
	if = {
		limit = {
			brotherhood_of_steel_exists = no
		}
		leave_current_faction = yes
		create_faction = brotherhood_of_steel
		mark_as_brotherhood_of_steel_member = yes
		set_variable = { GLOBAL.brotherhood_of_steel_leader = THIS }
	}
	else_if = {
		join_brotherhood_of_steel = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_brotherhood_of_steel (scripted_effect) exited"
	}
}

ask_to_join_brotherhood_of_steel = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_brotherhood_of_steel (scripted_effect) entered"
	}
	var:GLOBAL.brotherhood_of_steel_leader = {
		country_event = {
			id = brotherhood_of_steel_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_brotherhood_of_steel (scripted_effect) exited"
	}
}

join_brotherhood_of_steel = {
	custom_effect_tooltip = join_brotherhood_of_steel_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_brotherhood_of_steel (scripted_effect) entered"
		}
		if = {
			limit = { is_brotherhood_of_steel_member = no }
			leave_current_faction = yes
			var:GLOBAL.brotherhood_of_steel_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_brotherhood_of_steel - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = brotherhood_of_steel_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_brotherhood_of_steel - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_brotherhood_of_steel_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_brotherhood_of_steel (scripted_effect) exited"
		}
	}
}

leave_brotherhood_of_steel = {
	custom_effect_tooltip = leave_brotherhood_of_steel_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_brotherhood_of_steel (scripted_effect) entered"
		}
		if = {
			limit = { is_brotherhood_of_steel_member = yes }
			unmark_as_brotherhood_of_steel_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_brotherhood_of_steel (scripted_effect) exited"
		}
	}
}

mark_as_brotherhood_of_steel_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_brotherhood_of_steel_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_brotherhood_of_steel_member = no }
		set_variable = { current_faction = BOS }
		add_brotherhood_of_steel_ally_strategies = yes
		add_other_brotherhood_of_steel_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_brotherhood_of_steel_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_brotherhood_of_steel_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_brotherhood_of_steel_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_brotherhood_of_steel_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_brotherhood_of_steel_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_brotherhood_of_steel_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_brotherhood_of_steel_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_brotherhood_of_steel_member = yes }
		remove_brotherhood_of_steel_ally_strategies = yes
		remove_other_brotherhood_of_steel_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_brotherhood_of_steel_member = yes
			}
			unmark_as_brotherhood_of_steel_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_brotherhood_of_steel_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_brotherhood_of_steel_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_brotherhood_of_steel_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_brotherhood_of_steel_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_brotherhood_of_steel_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_brotherhood_of_steel_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_brotherhood_of_steel_ally_strategies (scripted_effect) exited"
	}
}

remove_brotherhood_of_steel_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_brotherhood_of_steel_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_brotherhood_of_steel_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_brotherhood_of_steel_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_caesars_legion = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_caesars_legion (scripted_effect) entered"
	}
	if = {
		limit = {
			caesars_legion_exists = no
		}
		leave_current_faction = yes
		create_faction = caesars_legion
		mark_as_caesars_legion_member = yes
		set_variable = { GLOBAL.caesars_legion_leader = THIS }
	}
	else_if = {
		join_caesars_legion = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_caesars_legion (scripted_effect) exited"
	}
}

ask_to_join_caesars_legion = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_caesars_legion (scripted_effect) entered"
	}
	var:GLOBAL.caesars_legion_leader = {
		country_event = {
			id = caesars_legion_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_caesars_legion (scripted_effect) exited"
	}
}

join_caesars_legion = {
	custom_effect_tooltip = join_caesars_legion_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_caesars_legion (scripted_effect) entered"
		}
		if = {
			limit = { is_caesars_legion_member = no }
			leave_current_faction = yes
			var:GLOBAL.caesars_legion_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_caesars_legion - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = caesars_legion_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_caesars_legion - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_caesars_legion_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_caesars_legion (scripted_effect) exited"
		}
	}
}

leave_caesars_legion = {
	custom_effect_tooltip = leave_caesars_legion_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_caesars_legion (scripted_effect) entered"
		}
		if = {
			limit = { is_caesars_legion_member = yes }
			unmark_as_caesars_legion_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_caesars_legion (scripted_effect) exited"
		}
	}
}

mark_as_caesars_legion_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_caesars_legion_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_caesars_legion_member = no }
		set_variable = { current_faction = CES }
		add_caesars_legion_ally_strategies = yes
		add_other_caesars_legion_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_caesars_legion_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_caesars_legion_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_caesars_legion_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_caesars_legion_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_caesars_legion_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_caesars_legion_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_caesars_legion_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_caesars_legion_member = yes }
		remove_caesars_legion_ally_strategies = yes
		remove_other_caesars_legion_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_caesars_legion_member = yes
			}
			unmark_as_caesars_legion_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_caesars_legion_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_caesars_legion_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_caesars_legion_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_caesars_legion_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_caesars_legion_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_caesars_legion_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_caesars_legion_ally_strategies (scripted_effect) exited"
	}
}

remove_caesars_legion_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_caesars_legion_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_caesars_legion_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_caesars_legion_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_children_of_mexico = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_children_of_mexico (scripted_effect) entered"
	}
	if = {
		limit = {
			children_of_mexico_exists = no
		}
		leave_current_faction = yes
		create_faction = children_of_mexico
		mark_as_children_of_mexico_member = yes
		set_variable = { GLOBAL.children_of_mexico_leader = THIS }
	}
	else_if = {
		join_children_of_mexico = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_children_of_mexico (scripted_effect) exited"
	}
}

ask_to_join_children_of_mexico = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_children_of_mexico (scripted_effect) entered"
	}
	var:GLOBAL.children_of_mexico_leader = {
		country_event = {
			id = children_of_mexico_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_children_of_mexico (scripted_effect) exited"
	}
}

join_children_of_mexico = {
	custom_effect_tooltip = join_children_of_mexico_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_children_of_mexico (scripted_effect) entered"
		}
		if = {
			limit = { is_children_of_mexico_member = no }
			leave_current_faction = yes
			var:GLOBAL.children_of_mexico_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_children_of_mexico - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = children_of_mexico_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_children_of_mexico - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_children_of_mexico_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_children_of_mexico (scripted_effect) exited"
		}
	}
}

leave_children_of_mexico = {
	custom_effect_tooltip = leave_children_of_mexico_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_children_of_mexico (scripted_effect) entered"
		}
		if = {
			limit = { is_children_of_mexico_member = yes }
			unmark_as_children_of_mexico_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_children_of_mexico (scripted_effect) exited"
		}
	}
}

mark_as_children_of_mexico_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_children_of_mexico_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_children_of_mexico_member = no }
		set_variable = { current_faction = ARM }
		add_children_of_mexico_ally_strategies = yes
		add_other_children_of_mexico_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_children_of_mexico_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_children_of_mexico_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_children_of_mexico_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_children_of_mexico_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_children_of_mexico_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_children_of_mexico_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_children_of_mexico_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_children_of_mexico_member = yes }
		remove_children_of_mexico_ally_strategies = yes
		remove_other_children_of_mexico_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_children_of_mexico_member = yes
			}
			unmark_as_children_of_mexico_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_children_of_mexico_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_children_of_mexico_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_children_of_mexico_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_children_of_mexico_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_children_of_mexico_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_children_of_mexico_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_children_of_mexico_ally_strategies (scripted_effect) exited"
	}
}

remove_children_of_mexico_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_children_of_mexico_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_children_of_mexico_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_children_of_mexico_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_children_of_the_gate = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_children_of_the_gate (scripted_effect) entered"
	}
	if = {
		limit = {
			children_of_the_gate_exists = no
		}
		leave_current_faction = yes
		create_faction = children_of_the_gate
		mark_as_children_of_the_gate_member = yes
		set_variable = { GLOBAL.children_of_the_gate_leader = THIS }
	}
	else_if = {
		join_children_of_the_gate = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_children_of_the_gate (scripted_effect) exited"
	}
}

ask_to_join_children_of_the_gate = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_children_of_the_gate (scripted_effect) entered"
	}
	var:GLOBAL.children_of_the_gate_leader = {
		country_event = {
			id = children_of_the_gate_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_children_of_the_gate (scripted_effect) exited"
	}
}

join_children_of_the_gate = {
	custom_effect_tooltip = join_children_of_the_gate_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_children_of_the_gate (scripted_effect) entered"
		}
		if = {
			limit = { is_children_of_the_gate_member = no }
			leave_current_faction = yes
			var:GLOBAL.children_of_the_gate_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_children_of_the_gate - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = children_of_the_gate_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_children_of_the_gate - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_children_of_the_gate_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_children_of_the_gate (scripted_effect) exited"
		}
	}
}

leave_children_of_the_gate = {
	custom_effect_tooltip = leave_children_of_the_gate_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_children_of_the_gate (scripted_effect) entered"
		}
		if = {
			limit = { is_children_of_the_gate_member = yes }
			unmark_as_children_of_the_gate_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_children_of_the_gate (scripted_effect) exited"
		}
	}
}

mark_as_children_of_the_gate_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_children_of_the_gate_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_children_of_the_gate_member = no }
		set_variable = { current_faction = HEA }
		add_children_of_the_gate_ally_strategies = yes
		add_other_children_of_the_gate_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_children_of_the_gate_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_children_of_the_gate_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_children_of_the_gate_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_children_of_the_gate_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_children_of_the_gate_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_children_of_the_gate_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_children_of_the_gate_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_children_of_the_gate_member = yes }
		remove_children_of_the_gate_ally_strategies = yes
		remove_other_children_of_the_gate_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_children_of_the_gate_member = yes
			}
			unmark_as_children_of_the_gate_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_children_of_the_gate_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_children_of_the_gate_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_children_of_the_gate_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_children_of_the_gate_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_children_of_the_gate_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_children_of_the_gate_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_children_of_the_gate_ally_strategies (scripted_effect) exited"
	}
}

remove_children_of_the_gate_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_children_of_the_gate_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_children_of_the_gate_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_children_of_the_gate_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_fantasma_cartel = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_fantasma_cartel (scripted_effect) entered"
	}
	if = {
		limit = {
			fantasma_cartel_exists = no
		}
		leave_current_faction = yes
		create_faction = fantasma_cartel
		mark_as_fantasma_cartel_member = yes
		set_variable = { GLOBAL.fantasma_cartel_leader = THIS }
	}
	else_if = {
		join_fantasma_cartel = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_fantasma_cartel (scripted_effect) exited"
	}
}

ask_to_join_fantasma_cartel = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_fantasma_cartel (scripted_effect) entered"
	}
	var:GLOBAL.fantasma_cartel_leader = {
		country_event = {
			id = fantasma_cartel_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_fantasma_cartel (scripted_effect) exited"
	}
}

join_fantasma_cartel = {
	custom_effect_tooltip = join_fantasma_cartel_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_fantasma_cartel (scripted_effect) entered"
		}
		if = {
			limit = { is_fantasma_cartel_member = no }
			leave_current_faction = yes
			var:GLOBAL.fantasma_cartel_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_fantasma_cartel - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = fantasma_cartel_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_fantasma_cartel - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_fantasma_cartel_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_fantasma_cartel (scripted_effect) exited"
		}
	}
}

leave_fantasma_cartel = {
	custom_effect_tooltip = leave_fantasma_cartel_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_fantasma_cartel (scripted_effect) entered"
		}
		if = {
			limit = { is_fantasma_cartel_member = yes }
			unmark_as_fantasma_cartel_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_fantasma_cartel (scripted_effect) exited"
		}
	}
}

mark_as_fantasma_cartel_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_fantasma_cartel_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_fantasma_cartel_member = no }
		set_variable = { current_faction = BVC }
		add_fantasma_cartel_ally_strategies = yes
		add_other_fantasma_cartel_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_fantasma_cartel_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_fantasma_cartel_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_fantasma_cartel_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_fantasma_cartel_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_fantasma_cartel_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_fantasma_cartel_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_fantasma_cartel_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_fantasma_cartel_member = yes }
		remove_fantasma_cartel_ally_strategies = yes
		remove_other_fantasma_cartel_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_fantasma_cartel_member = yes
			}
			unmark_as_fantasma_cartel_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_fantasma_cartel_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_fantasma_cartel_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_fantasma_cartel_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_fantasma_cartel_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_fantasma_cartel_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_fantasma_cartel_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_fantasma_cartel_ally_strategies (scripted_effect) exited"
	}
}

remove_fantasma_cartel_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_fantasma_cartel_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_fantasma_cartel_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_fantasma_cartel_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_great_federation = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_great_federation (scripted_effect) entered"
	}
	if = {
		limit = {
			great_federation_exists = no
		}
		leave_current_faction = yes
		create_faction = great_federation
		mark_as_great_federation_member = yes
		set_variable = { GLOBAL.great_federation_leader = THIS }
	}
	else_if = {
		join_great_federation = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_great_federation (scripted_effect) exited"
	}
}

ask_to_join_great_federation = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_great_federation (scripted_effect) entered"
	}
	var:GLOBAL.great_federation_leader = {
		country_event = {
			id = great_federation_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_great_federation (scripted_effect) exited"
	}
}

join_great_federation = {
	custom_effect_tooltip = join_great_federation_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_great_federation (scripted_effect) entered"
		}
		if = {
			limit = { is_great_federation_member = no }
			leave_current_faction = yes
			var:GLOBAL.great_federation_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_great_federation - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = great_federation_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_great_federation - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_great_federation_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_great_federation (scripted_effect) exited"
		}
	}
}

leave_great_federation = {
	custom_effect_tooltip = leave_great_federation_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_great_federation (scripted_effect) entered"
		}
		if = {
			limit = { is_great_federation_member = yes }
			unmark_as_great_federation_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_great_federation (scripted_effect) exited"
		}
	}
}

mark_as_great_federation_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_great_federation_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_great_federation_member = no }
		set_variable = { current_faction = FFI }
		add_great_federation_ally_strategies = yes
		add_other_great_federation_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_great_federation_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_great_federation_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_great_federation_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_great_federation_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_great_federation_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_great_federation_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_great_federation_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_great_federation_member = yes }
		remove_great_federation_ally_strategies = yes
		remove_other_great_federation_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_great_federation_member = yes
			}
			unmark_as_great_federation_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_great_federation_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_great_federation_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_great_federation_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_great_federation_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_great_federation_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_great_federation_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_great_federation_ally_strategies (scripted_effect) exited"
	}
}

remove_great_federation_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_great_federation_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_great_federation_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_great_federation_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_jungle_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_jungle_pact (scripted_effect) entered"
	}
	if = {
		limit = {
			jungle_pact_exists = no
		}
		leave_current_faction = yes
		create_faction = jungle_pact
		mark_as_jungle_pact_member = yes
		set_variable = { GLOBAL.jungle_pact_leader = THIS }
	}
	else_if = {
		join_jungle_pact = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_jungle_pact (scripted_effect) exited"
	}
}

ask_to_join_jungle_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_jungle_pact (scripted_effect) entered"
	}
	var:GLOBAL.jungle_pact_leader = {
		country_event = {
			id = jungle_pact_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_jungle_pact (scripted_effect) exited"
	}
}

join_jungle_pact = {
	custom_effect_tooltip = join_jungle_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_jungle_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_jungle_pact_member = no }
			leave_current_faction = yes
			var:GLOBAL.jungle_pact_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_jungle_pact - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = jungle_pact_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_jungle_pact - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_jungle_pact_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_jungle_pact (scripted_effect) exited"
		}
	}
}

leave_jungle_pact = {
	custom_effect_tooltip = leave_jungle_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_jungle_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_jungle_pact_member = yes }
			unmark_as_jungle_pact_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_jungle_pact (scripted_effect) exited"
		}
	}
}

mark_as_jungle_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_jungle_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_jungle_pact_member = no }
		set_variable = { current_faction = TDT }
		add_jungle_pact_ally_strategies = yes
		add_other_jungle_pact_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_jungle_pact_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_jungle_pact_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_jungle_pact_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_jungle_pact_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_jungle_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_jungle_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_jungle_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_jungle_pact_member = yes }
		remove_jungle_pact_ally_strategies = yes
		remove_other_jungle_pact_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_jungle_pact_member = yes
			}
			unmark_as_jungle_pact_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_jungle_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_jungle_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_jungle_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_jungle_pact_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_jungle_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_jungle_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_jungle_pact_ally_strategies (scripted_effect) exited"
	}
}

remove_jungle_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_jungle_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_jungle_pact_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_jungle_pact_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_masters_new_army = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_masters_new_army (scripted_effect) entered"
	}
	if = {
		limit = {
			masters_new_army_exists = no
		}
		leave_current_faction = yes
		create_faction = masters_new_army
		mark_as_masters_new_army_member = yes
		set_variable = { GLOBAL.masters_new_army_leader = THIS }
	}
	else_if = {
		join_masters_new_army = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_masters_new_army (scripted_effect) exited"
	}
}

ask_to_join_masters_new_army = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_masters_new_army (scripted_effect) entered"
	}
	var:GLOBAL.masters_new_army_leader = {
		country_event = {
			id = masters_new_army_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_masters_new_army (scripted_effect) exited"
	}
}

join_masters_new_army = {
	custom_effect_tooltip = join_masters_new_army_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_masters_new_army (scripted_effect) entered"
		}
		if = {
			limit = { is_masters_new_army_member = no }
			leave_current_faction = yes
			var:GLOBAL.masters_new_army_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_masters_new_army - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = masters_new_army_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_masters_new_army - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_masters_new_army_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_masters_new_army (scripted_effect) exited"
		}
	}
}

leave_masters_new_army = {
	custom_effect_tooltip = leave_masters_new_army_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_masters_new_army (scripted_effect) entered"
		}
		if = {
			limit = { is_masters_new_army_member = yes }
			unmark_as_masters_new_army_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_masters_new_army (scripted_effect) exited"
		}
	}
}

mark_as_masters_new_army_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_masters_new_army_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_masters_new_army_member = no }
		set_variable = { current_faction = TRL }
		add_masters_new_army_ally_strategies = yes
		add_other_masters_new_army_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_masters_new_army_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_masters_new_army_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_masters_new_army_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_masters_new_army_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_masters_new_army_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_masters_new_army_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_masters_new_army_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_masters_new_army_member = yes }
		remove_masters_new_army_ally_strategies = yes
		remove_other_masters_new_army_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_masters_new_army_member = yes
			}
			unmark_as_masters_new_army_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_masters_new_army_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_masters_new_army_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_masters_new_army_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_masters_new_army_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_masters_new_army_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_masters_new_army_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_masters_new_army_ally_strategies (scripted_effect) exited"
	}
}

remove_masters_new_army_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_masters_new_army_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_masters_new_army_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_masters_new_army_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_mesoamerican_alliance = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_mesoamerican_alliance (scripted_effect) entered"
	}
	if = {
		limit = {
			mesoamerican_alliance_exists = no
		}
		leave_current_faction = yes
		create_faction = mesoamerican_alliance
		mark_as_mesoamerican_alliance_member = yes
		set_variable = { GLOBAL.mesoamerican_alliance_leader = THIS }
	}
	else_if = {
		join_mesoamerican_alliance = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_mesoamerican_alliance (scripted_effect) exited"
	}
}

ask_to_join_mesoamerican_alliance = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_mesoamerican_alliance (scripted_effect) entered"
	}
	var:GLOBAL.mesoamerican_alliance_leader = {
		country_event = {
			id = mesoamerican_alliance_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_mesoamerican_alliance (scripted_effect) exited"
	}
}

join_mesoamerican_alliance = {
	custom_effect_tooltip = join_mesoamerican_alliance_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_mesoamerican_alliance (scripted_effect) entered"
		}
		if = {
			limit = { is_mesoamerican_alliance_member = no }
			leave_current_faction = yes
			var:GLOBAL.mesoamerican_alliance_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_mesoamerican_alliance - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = mesoamerican_alliance_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_mesoamerican_alliance - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_mesoamerican_alliance_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_mesoamerican_alliance (scripted_effect) exited"
		}
	}
}

leave_mesoamerican_alliance = {
	custom_effect_tooltip = leave_mesoamerican_alliance_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_mesoamerican_alliance (scripted_effect) entered"
		}
		if = {
			limit = { is_mesoamerican_alliance_member = yes }
			unmark_as_mesoamerican_alliance_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_mesoamerican_alliance (scripted_effect) exited"
		}
	}
}

mark_as_mesoamerican_alliance_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_mesoamerican_alliance_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_mesoamerican_alliance_member = no }
		set_variable = { current_faction = ITZ }
		add_mesoamerican_alliance_ally_strategies = yes
		add_other_mesoamerican_alliance_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_mesoamerican_alliance_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_mesoamerican_alliance_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_mesoamerican_alliance_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_mesoamerican_alliance_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_mesoamerican_alliance_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_mesoamerican_alliance_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_mesoamerican_alliance_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_mesoamerican_alliance_member = yes }
		remove_mesoamerican_alliance_ally_strategies = yes
		remove_other_mesoamerican_alliance_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_mesoamerican_alliance_member = yes
			}
			unmark_as_mesoamerican_alliance_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_mesoamerican_alliance_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_mesoamerican_alliance_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_mesoamerican_alliance_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_mesoamerican_alliance_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_mesoamerican_alliance_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_mesoamerican_alliance_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_mesoamerican_alliance_ally_strategies (scripted_effect) exited"
	}
}

remove_mesoamerican_alliance_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_mesoamerican_alliance_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_mesoamerican_alliance_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_mesoamerican_alliance_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_mojave_alliance = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_mojave_alliance (scripted_effect) entered"
	}
	if = {
		limit = {
			mojave_alliance_exists = no
		}
		leave_current_faction = yes
		create_faction = mojave_alliance
		mark_as_mojave_alliance_member = yes
		set_variable = { GLOBAL.mojave_alliance_leader = THIS }
	}
	else_if = {
		join_mojave_alliance = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_mojave_alliance (scripted_effect) exited"
	}
}

ask_to_join_mojave_alliance = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_mojave_alliance (scripted_effect) entered"
	}
	var:GLOBAL.mojave_alliance_leader = {
		country_event = {
			id = mojave_alliance_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_mojave_alliance (scripted_effect) exited"
	}
}

join_mojave_alliance = {
	custom_effect_tooltip = join_mojave_alliance_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_mojave_alliance (scripted_effect) entered"
		}
		if = {
			limit = { is_mojave_alliance_member = no }
			leave_current_faction = yes
			var:GLOBAL.mojave_alliance_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_mojave_alliance - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = mojave_alliance_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_mojave_alliance - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_mojave_alliance_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_mojave_alliance (scripted_effect) exited"
		}
	}
}

leave_mojave_alliance = {
	custom_effect_tooltip = leave_mojave_alliance_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_mojave_alliance (scripted_effect) entered"
		}
		if = {
			limit = { is_mojave_alliance_member = yes }
			unmark_as_mojave_alliance_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_mojave_alliance (scripted_effect) exited"
		}
	}
}

mark_as_mojave_alliance_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_mojave_alliance_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_mojave_alliance_member = no }
		set_variable = { current_faction = MOJ }
		add_mojave_alliance_ally_strategies = yes
		add_other_mojave_alliance_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_mojave_alliance_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_mojave_alliance_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_mojave_alliance_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_mojave_alliance_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_mojave_alliance_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_mojave_alliance_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_mojave_alliance_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_mojave_alliance_member = yes }
		remove_mojave_alliance_ally_strategies = yes
		remove_other_mojave_alliance_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_mojave_alliance_member = yes
			}
			unmark_as_mojave_alliance_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_mojave_alliance_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_mojave_alliance_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_mojave_alliance_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_mojave_alliance_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_mojave_alliance_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_mojave_alliance_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_mojave_alliance_ally_strategies (scripted_effect) exited"
	}
}

remove_mojave_alliance_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_mojave_alliance_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_mojave_alliance_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_mojave_alliance_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_mormon_alliance = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_mormon_alliance (scripted_effect) entered"
	}
	if = {
		limit = {
			mormon_alliance_exists = no
		}
		leave_current_faction = yes
		create_faction = mormon_alliance
		mark_as_mormon_alliance_member = yes
		set_variable = { GLOBAL.mormon_alliance_leader = THIS }
	}
	else_if = {
		join_mormon_alliance = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_mormon_alliance (scripted_effect) exited"
	}
}

ask_to_join_mormon_alliance = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_mormon_alliance (scripted_effect) entered"
	}
	var:GLOBAL.mormon_alliance_leader = {
		country_event = {
			id = mormon_alliance_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_mormon_alliance (scripted_effect) exited"
	}
}

join_mormon_alliance = {
	custom_effect_tooltip = join_mormon_alliance_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_mormon_alliance (scripted_effect) entered"
		}
		if = {
			limit = { is_mormon_alliance_member = no }
			leave_current_faction = yes
			var:GLOBAL.mormon_alliance_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_mormon_alliance - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = mormon_alliance_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_mormon_alliance - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_mormon_alliance_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_mormon_alliance (scripted_effect) exited"
		}
	}
}

leave_mormon_alliance = {
	custom_effect_tooltip = leave_mormon_alliance_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_mormon_alliance (scripted_effect) entered"
		}
		if = {
			limit = { is_mormon_alliance_member = yes }
			unmark_as_mormon_alliance_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_mormon_alliance (scripted_effect) exited"
		}
	}
}

mark_as_mormon_alliance_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_mormon_alliance_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_mormon_alliance_member = no }
		set_variable = { current_faction = NCN }
		add_mormon_alliance_ally_strategies = yes
		add_other_mormon_alliance_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_mormon_alliance_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_mormon_alliance_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_mormon_alliance_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_mormon_alliance_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_mormon_alliance_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_mormon_alliance_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_mormon_alliance_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_mormon_alliance_member = yes }
		remove_mormon_alliance_ally_strategies = yes
		remove_other_mormon_alliance_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_mormon_alliance_member = yes
			}
			unmark_as_mormon_alliance_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_mormon_alliance_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_mormon_alliance_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_mormon_alliance_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_mormon_alliance_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_mormon_alliance_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_mormon_alliance_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_mormon_alliance_ally_strategies (scripted_effect) exited"
	}
}

remove_mormon_alliance_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_mormon_alliance_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_mormon_alliance_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_mormon_alliance_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_ncr = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_ncr (scripted_effect) entered"
	}
	if = {
		limit = {
			ncr_exists = no
		}
		leave_current_faction = yes
		create_faction = ncr
		mark_as_ncr_member = yes
		set_variable = { GLOBAL.ncr_leader = THIS }
	}
	else_if = {
		join_ncr = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_ncr (scripted_effect) exited"
	}
}

ask_to_join_ncr = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_ncr (scripted_effect) entered"
	}
	var:GLOBAL.ncr_leader = {
		country_event = {
			id = ncr_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_ncr (scripted_effect) exited"
	}
}

join_ncr = {
	custom_effect_tooltip = join_ncr_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_ncr (scripted_effect) entered"
		}
		if = {
			limit = { is_ncr_member = no }
			leave_current_faction = yes
			var:GLOBAL.ncr_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_ncr - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = ncr_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_ncr - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_ncr_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_ncr (scripted_effect) exited"
		}
	}
}

leave_ncr = {
	custom_effect_tooltip = leave_ncr_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_ncr (scripted_effect) entered"
		}
		if = {
			limit = { is_ncr_member = yes }
			unmark_as_ncr_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_ncr (scripted_effect) exited"
		}
	}
}

mark_as_ncr_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_ncr_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_ncr_member = no }
		set_variable = { current_faction = NCR }
		add_ncr_ally_strategies = yes
		add_other_ncr_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_ncr_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_ncr_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_ncr_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_ncr_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_ncr_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_ncr_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_ncr_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_ncr_member = yes }
		remove_ncr_ally_strategies = yes
		remove_other_ncr_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_ncr_member = yes
			}
			unmark_as_ncr_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_ncr_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_ncr_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_ncr_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_ncr_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_ncr_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_ncr_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_ncr_ally_strategies (scripted_effect) exited"
	}
}

remove_ncr_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_ncr_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_ncr_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_ncr_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_nevada_enclave = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_nevada_enclave (scripted_effect) entered"
	}
	if = {
		limit = {
			nevada_enclave_exists = no
		}
		leave_current_faction = yes
		create_faction = nevada_enclave
		mark_as_nevada_enclave_member = yes
		set_variable = { GLOBAL.nevada_enclave_leader = THIS }
	}
	else_if = {
		join_nevada_enclave = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_nevada_enclave (scripted_effect) exited"
	}
}

ask_to_join_nevada_enclave = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_nevada_enclave (scripted_effect) entered"
	}
	var:GLOBAL.nevada_enclave_leader = {
		country_event = {
			id = nevada_enclave_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_nevada_enclave (scripted_effect) exited"
	}
}

join_nevada_enclave = {
	custom_effect_tooltip = join_nevada_enclave_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_nevada_enclave (scripted_effect) entered"
		}
		if = {
			limit = { is_nevada_enclave_member = no }
			leave_current_faction = yes
			var:GLOBAL.nevada_enclave_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_nevada_enclave - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = nevada_enclave_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_nevada_enclave - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_nevada_enclave_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_nevada_enclave (scripted_effect) exited"
		}
	}
}

leave_nevada_enclave = {
	custom_effect_tooltip = leave_nevada_enclave_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_nevada_enclave (scripted_effect) entered"
		}
		if = {
			limit = { is_nevada_enclave_member = yes }
			unmark_as_nevada_enclave_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_nevada_enclave (scripted_effect) exited"
		}
	}
}

mark_as_nevada_enclave_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_nevada_enclave_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_nevada_enclave_member = no }
		set_variable = { current_faction = NEW }
		add_nevada_enclave_ally_strategies = yes
		add_other_nevada_enclave_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_nevada_enclave_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_nevada_enclave_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_nevada_enclave_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_nevada_enclave_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_nevada_enclave_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_nevada_enclave_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_nevada_enclave_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_nevada_enclave_member = yes }
		remove_nevada_enclave_ally_strategies = yes
		remove_other_nevada_enclave_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_nevada_enclave_member = yes
			}
			unmark_as_nevada_enclave_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_nevada_enclave_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_nevada_enclave_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_nevada_enclave_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_nevada_enclave_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_nevada_enclave_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_nevada_enclave_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_nevada_enclave_ally_strategies (scripted_effect) exited"
	}
}

remove_nevada_enclave_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_nevada_enclave_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_nevada_enclave_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_nevada_enclave_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_nevada_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_nevada_pact (scripted_effect) entered"
	}
	if = {
		limit = {
			nevada_pact_exists = no
		}
		leave_current_faction = yes
		create_faction = nevada_pact
		mark_as_nevada_pact_member = yes
		set_variable = { GLOBAL.nevada_pact_leader = THIS }
	}
	else_if = {
		join_nevada_pact = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_nevada_pact (scripted_effect) exited"
	}
}

ask_to_join_nevada_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_nevada_pact (scripted_effect) entered"
	}
	var:GLOBAL.nevada_pact_leader = {
		country_event = {
			id = nevada_pact_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_nevada_pact (scripted_effect) exited"
	}
}

join_nevada_pact = {
	custom_effect_tooltip = join_nevada_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_nevada_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_nevada_pact_member = no }
			leave_current_faction = yes
			var:GLOBAL.nevada_pact_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_nevada_pact - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = nevada_pact_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_nevada_pact - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_nevada_pact_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_nevada_pact (scripted_effect) exited"
		}
	}
}

leave_nevada_pact = {
	custom_effect_tooltip = leave_nevada_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_nevada_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_nevada_pact_member = yes }
			unmark_as_nevada_pact_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_nevada_pact (scripted_effect) exited"
		}
	}
}

mark_as_nevada_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_nevada_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_nevada_pact_member = no }
		set_variable = { current_faction = DES }
		add_nevada_pact_ally_strategies = yes
		add_other_nevada_pact_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_nevada_pact_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_nevada_pact_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_nevada_pact_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_nevada_pact_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_nevada_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_nevada_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_nevada_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_nevada_pact_member = yes }
		remove_nevada_pact_ally_strategies = yes
		remove_other_nevada_pact_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_nevada_pact_member = yes
			}
			unmark_as_nevada_pact_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_nevada_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_nevada_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_nevada_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_nevada_pact_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_nevada_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_nevada_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_nevada_pact_ally_strategies (scripted_effect) exited"
	}
}

remove_nevada_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_nevada_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_nevada_pact_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_nevada_pact_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_northern_league = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_northern_league (scripted_effect) entered"
	}
	if = {
		limit = {
			northern_league_exists = no
		}
		leave_current_faction = yes
		create_faction = northern_league
		mark_as_northern_league_member = yes
		set_variable = { GLOBAL.northern_league_leader = THIS }
	}
	else_if = {
		join_northern_league = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_northern_league (scripted_effect) exited"
	}
}

ask_to_join_northern_league = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_northern_league (scripted_effect) entered"
	}
	var:GLOBAL.northern_league_leader = {
		country_event = {
			id = northern_league_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_northern_league (scripted_effect) exited"
	}
}

join_northern_league = {
	custom_effect_tooltip = join_northern_league_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_northern_league (scripted_effect) entered"
		}
		if = {
			limit = { is_northern_league_member = no }
			leave_current_faction = yes
			var:GLOBAL.northern_league_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_northern_league - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = northern_league_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_northern_league - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_northern_league_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_northern_league (scripted_effect) exited"
		}
	}
}

leave_northern_league = {
	custom_effect_tooltip = leave_northern_league_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_northern_league (scripted_effect) entered"
		}
		if = {
			limit = { is_northern_league_member = yes }
			unmark_as_northern_league_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_northern_league (scripted_effect) exited"
		}
	}
}

mark_as_northern_league_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_northern_league_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_northern_league_member = no }
		set_variable = { current_faction = WBH }
		add_northern_league_ally_strategies = yes
		add_other_northern_league_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_northern_league_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_northern_league_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_northern_league_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_northern_league_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_northern_league_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_northern_league_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_northern_league_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_northern_league_member = yes }
		remove_northern_league_ally_strategies = yes
		remove_other_northern_league_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_northern_league_member = yes
			}
			unmark_as_northern_league_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_northern_league_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_northern_league_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_northern_league_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_northern_league_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_northern_league_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_northern_league_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_northern_league_ally_strategies (scripted_effect) exited"
	}
}

remove_northern_league_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_northern_league_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_northern_league_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_northern_league_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_northern_mojave_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_northern_mojave_pact (scripted_effect) entered"
	}
	if = {
		limit = {
			northern_mojave_pact_exists = no
		}
		leave_current_faction = yes
		create_faction = northern_mojave_pact
		mark_as_northern_mojave_pact_member = yes
		set_variable = { GLOBAL.northern_mojave_pact_leader = THIS }
	}
	else_if = {
		join_northern_mojave_pact = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_northern_mojave_pact (scripted_effect) exited"
	}
}

ask_to_join_northern_mojave_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_northern_mojave_pact (scripted_effect) entered"
	}
	var:GLOBAL.northern_mojave_pact_leader = {
		country_event = {
			id = northern_mojave_pact_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_northern_mojave_pact (scripted_effect) exited"
	}
}

join_northern_mojave_pact = {
	custom_effect_tooltip = join_northern_mojave_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_northern_mojave_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_northern_mojave_pact_member = no }
			leave_current_faction = yes
			var:GLOBAL.northern_mojave_pact_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_northern_mojave_pact - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = northern_mojave_pact_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_northern_mojave_pact - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_northern_mojave_pact_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_northern_mojave_pact (scripted_effect) exited"
		}
	}
}

leave_northern_mojave_pact = {
	custom_effect_tooltip = leave_northern_mojave_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_northern_mojave_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_northern_mojave_pact_member = yes }
			unmark_as_northern_mojave_pact_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_northern_mojave_pact (scripted_effect) exited"
		}
	}
}

mark_as_northern_mojave_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_northern_mojave_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_northern_mojave_pact_member = no }
		set_variable = { current_faction = KHA }
		add_northern_mojave_pact_ally_strategies = yes
		add_other_northern_mojave_pact_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_northern_mojave_pact_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_northern_mojave_pact_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_northern_mojave_pact_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_northern_mojave_pact_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_northern_mojave_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_northern_mojave_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_northern_mojave_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_northern_mojave_pact_member = yes }
		remove_northern_mojave_pact_ally_strategies = yes
		remove_other_northern_mojave_pact_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_northern_mojave_pact_member = yes
			}
			unmark_as_northern_mojave_pact_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_northern_mojave_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_northern_mojave_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_northern_mojave_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_northern_mojave_pact_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_northern_mojave_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_northern_mojave_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_northern_mojave_pact_ally_strategies (scripted_effect) exited"
	}
}

remove_northern_mojave_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_northern_mojave_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_northern_mojave_pact_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_northern_mojave_pact_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_phoenix_federation = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_phoenix_federation (scripted_effect) entered"
	}
	if = {
		limit = {
			phoenix_federation_exists = no
		}
		leave_current_faction = yes
		create_faction = phoenix_federation
		mark_as_phoenix_federation_member = yes
		set_variable = { GLOBAL.phoenix_federation_leader = THIS }
	}
	else_if = {
		join_phoenix_federation = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_phoenix_federation (scripted_effect) exited"
	}
}

ask_to_join_phoenix_federation = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_phoenix_federation (scripted_effect) entered"
	}
	var:GLOBAL.phoenix_federation_leader = {
		country_event = {
			id = phoenix_federation_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_phoenix_federation (scripted_effect) exited"
	}
}

join_phoenix_federation = {
	custom_effect_tooltip = join_phoenix_federation_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_phoenix_federation (scripted_effect) entered"
		}
		if = {
			limit = { is_phoenix_federation_member = no }
			leave_current_faction = yes
			var:GLOBAL.phoenix_federation_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_phoenix_federation - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = phoenix_federation_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_phoenix_federation - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_phoenix_federation_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_phoenix_federation (scripted_effect) exited"
		}
	}
}

leave_phoenix_federation = {
	custom_effect_tooltip = leave_phoenix_federation_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_phoenix_federation (scripted_effect) entered"
		}
		if = {
			limit = { is_phoenix_federation_member = yes }
			unmark_as_phoenix_federation_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_phoenix_federation (scripted_effect) exited"
		}
	}
}

mark_as_phoenix_federation_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_phoenix_federation_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_phoenix_federation_member = no }
		set_variable = { current_faction = PHR }
		add_phoenix_federation_ally_strategies = yes
		add_other_phoenix_federation_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_phoenix_federation_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_phoenix_federation_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_phoenix_federation_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_phoenix_federation_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_phoenix_federation_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_phoenix_federation_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_phoenix_federation_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_phoenix_federation_member = yes }
		remove_phoenix_federation_ally_strategies = yes
		remove_other_phoenix_federation_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_phoenix_federation_member = yes
			}
			unmark_as_phoenix_federation_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_phoenix_federation_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_phoenix_federation_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_phoenix_federation_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_phoenix_federation_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_phoenix_federation_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_phoenix_federation_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_phoenix_federation_ally_strategies (scripted_effect) exited"
	}
}

remove_phoenix_federation_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_phoenix_federation_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_phoenix_federation_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_phoenix_federation_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_rio_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_rio_pact (scripted_effect) entered"
	}
	if = {
		limit = {
			rio_pact_exists = no
		}
		leave_current_faction = yes
		create_faction = rio_pact
		mark_as_rio_pact_member = yes
		set_variable = { GLOBAL.rio_pact_leader = THIS }
	}
	else_if = {
		join_rio_pact = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_rio_pact (scripted_effect) exited"
	}
}

ask_to_join_rio_pact = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_rio_pact (scripted_effect) entered"
	}
	var:GLOBAL.rio_pact_leader = {
		country_event = {
			id = rio_pact_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_rio_pact (scripted_effect) exited"
	}
}

join_rio_pact = {
	custom_effect_tooltip = join_rio_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_rio_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_rio_pact_member = no }
			leave_current_faction = yes
			var:GLOBAL.rio_pact_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_rio_pact - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = rio_pact_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_rio_pact - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_rio_pact_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_rio_pact (scripted_effect) exited"
		}
	}
}

leave_rio_pact = {
	custom_effect_tooltip = leave_rio_pact_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_rio_pact (scripted_effect) entered"
		}
		if = {
			limit = { is_rio_pact_member = yes }
			unmark_as_rio_pact_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_rio_pact (scripted_effect) exited"
		}
	}
}

mark_as_rio_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_rio_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_rio_pact_member = no }
		set_variable = { current_faction = RRG }
		add_rio_pact_ally_strategies = yes
		add_other_rio_pact_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_rio_pact_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_rio_pact_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_rio_pact_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_rio_pact_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_rio_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_rio_pact_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_rio_pact_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_rio_pact_member = yes }
		remove_rio_pact_ally_strategies = yes
		remove_other_rio_pact_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_rio_pact_member = yes
			}
			unmark_as_rio_pact_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_rio_pact_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_rio_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_rio_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_rio_pact_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_rio_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_rio_pact_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_rio_pact_ally_strategies (scripted_effect) exited"
	}
}

remove_rio_pact_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_rio_pact_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_rio_pact_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_rio_pact_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_unbroken_coast = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_unbroken_coast (scripted_effect) entered"
	}
	if = {
		limit = {
			unbroken_coast_exists = no
		}
		leave_current_faction = yes
		create_faction = unbroken_coast
		mark_as_unbroken_coast_member = yes
		set_variable = { GLOBAL.unbroken_coast_leader = THIS }
	}
	else_if = {
		join_unbroken_coast = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_unbroken_coast (scripted_effect) exited"
	}
}

ask_to_join_unbroken_coast = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_unbroken_coast (scripted_effect) entered"
	}
	var:GLOBAL.unbroken_coast_leader = {
		country_event = {
			id = unbroken_coast_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_unbroken_coast (scripted_effect) exited"
	}
}

join_unbroken_coast = {
	custom_effect_tooltip = join_unbroken_coast_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_unbroken_coast (scripted_effect) entered"
		}
		if = {
			limit = { is_unbroken_coast_member = no }
			leave_current_faction = yes
			var:GLOBAL.unbroken_coast_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_unbroken_coast - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = unbroken_coast_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_unbroken_coast - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_unbroken_coast_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_unbroken_coast (scripted_effect) exited"
		}
	}
}

leave_unbroken_coast = {
	custom_effect_tooltip = leave_unbroken_coast_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_unbroken_coast (scripted_effect) entered"
		}
		if = {
			limit = { is_unbroken_coast_member = yes }
			unmark_as_unbroken_coast_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_unbroken_coast (scripted_effect) exited"
		}
	}
}

mark_as_unbroken_coast_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_unbroken_coast_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_unbroken_coast_member = no }
		set_variable = { current_faction = VIC }
		add_unbroken_coast_ally_strategies = yes
		add_other_unbroken_coast_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_unbroken_coast_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_unbroken_coast_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_unbroken_coast_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_unbroken_coast_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_unbroken_coast_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_unbroken_coast_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_unbroken_coast_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_unbroken_coast_member = yes }
		remove_unbroken_coast_ally_strategies = yes
		remove_other_unbroken_coast_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_unbroken_coast_member = yes
			}
			unmark_as_unbroken_coast_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_unbroken_coast_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_unbroken_coast_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_unbroken_coast_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_unbroken_coast_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_unbroken_coast_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_unbroken_coast_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_unbroken_coast_ally_strategies (scripted_effect) exited"
	}
}

remove_unbroken_coast_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_unbroken_coast_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_unbroken_coast_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_unbroken_coast_ally_strategies (scripted_effect) exited"
	}
}
create_or_join_western_enclave = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_western_enclave (scripted_effect) entered"
	}
	if = {
		limit = {
			western_enclave_exists = no
		}
		leave_current_faction = yes
		create_faction = western_enclave
		mark_as_western_enclave_member = yes
		set_variable = { GLOBAL.western_enclave_leader = THIS }
	}
	else_if = {
		join_western_enclave = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] create_or_join_western_enclave (scripted_effect) exited"
	}
}

ask_to_join_western_enclave = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_western_enclave (scripted_effect) entered"
	}
	var:GLOBAL.western_enclave_leader = {
		country_event = {
			id = western_enclave_faction_events.1
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] ask_to_join_western_enclave (scripted_effect) exited"
	}
}

join_western_enclave = {
	custom_effect_tooltip = join_western_enclave_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_western_enclave (scripted_effect) entered"
		}
		if = {
			limit = { is_western_enclave_member = no }
			leave_current_faction = yes
			var:GLOBAL.western_enclave_leader = {
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_western_enclave - adding to faction via [This.GetName]... (scripted_effect)"
				}
				add_to_faction = PREV
				PREV = { news_event = { id = western_enclave_faction_events.4 } }
				if = {
					limit = { has_global_flag = debug_logs }
					log = "[GetDateText]: [Prev.GetName] join_western_enclave - added to faction via [This.GetName]... (scripted_effect)"
				}
			}
			mark_as_western_enclave_member = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] join_western_enclave (scripted_effect) exited"
		}
	}
}

leave_western_enclave = {
	custom_effect_tooltip = leave_western_enclave_tt
	hidden_effect = {
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_western_enclave (scripted_effect) entered"
		}
		if = {
			limit = { is_western_enclave_member = yes }
			unmark_as_western_enclave_member = yes
			leave_faction = yes
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: [This.GetName] leave_western_enclave (scripted_effect) exited"
		}
	}
}

mark_as_western_enclave_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_western_enclave_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_western_enclave_member = no }
		set_variable = { current_faction = ENC }
		add_western_enclave_ally_strategies = yes
		add_other_western_enclave_strategies = yes

		every_country = {
			limit = {
				is_subject_of = PREV
				is_western_enclave_member = no
			}
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_western_enclave_member - also marking [This.GetName]... (scripted_effect)"
			}
			leave_current_faction = yes
			mark_as_western_enclave_member = yes
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: [Prev.GetName] mark_as_western_enclave_member - done also marking [This.GetName]. (scripted_effect)"
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] mark_as_western_enclave_member because of [From.GetName] (scripted_effect) exited"
	}
}

unmark_as_western_enclave_member = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_western_enclave_member because of [From.GetName] (scripted_effect) entered"
	}
	if = {
		limit = { is_western_enclave_member = yes }
		remove_western_enclave_ally_strategies = yes
		remove_other_western_enclave_strategies = yes
		clear_variable = current_faction

		every_country = {
			limit = {
				is_subject_of = PREV
				is_western_enclave_member = yes
			}
			unmark_as_western_enclave_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] unmark_as_western_enclave_member because of [From.GetName] (scripted_effect) exited"
	}
}

add_western_enclave_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_western_enclave_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = {
			is_western_enclave_member = yes
			NOT = { tag = PREV }
		}
		if = {
			limit = { has_global_flag = debug_logs }
			log = "[GetDateText]: add_western_enclave_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
		}
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = 200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = -200
		}
		PREV = {
			if = {
				limit = { has_global_flag = debug_logs }
				log = "[GetDateText]: add_western_enclave_ally_strategies - adding ai strategy for [This.GetName] -> [Prev.GetName] (scripted_effect) entered"
			}
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = 200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = -200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] add_western_enclave_ally_strategies (scripted_effect) exited"
	}
}

remove_western_enclave_ally_strategies = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_western_enclave_ally_strategies (scripted_effect) entered"
	}
	every_country = {
		limit = { is_western_enclave_member = yes }
		add_ai_strategy = {
			type = alliance
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = befriend
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = protect
			id = PREV
			value = -200
		}
		add_ai_strategy = {
			type = ignore
			id = PREV
			value = 200
		}
		PREV = {
			add_ai_strategy = {
				type = alliance
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = befriend
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = protect
				id = PREV
				value = -200
			}
			add_ai_strategy = {
				type = ignore
				id = PREV
				value = 200
			}
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] remove_western_enclave_ally_strategies (scripted_effect) exited"
	}
}

join_from_faction = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] join_from_faction [From.GetName] (scripted_effect) entered"
	}
	leave_current_faction = yes
	if = {
		limit = { FROM = { is_boneyard_brotherhood_member = yes } }
		join_boneyard_brotherhood = yes
	}
	else_if = {
		limit = { FROM = { is_brotherhood_of_steel_member = yes } }
		join_brotherhood_of_steel = yes
	}
	else_if = {
		limit = { FROM = { is_caesars_legion_member = yes } }
		join_caesars_legion = yes
	}
	else_if = {
		limit = { FROM = { is_children_of_mexico_member = yes } }
		join_children_of_mexico = yes
	}
	else_if = {
		limit = { FROM = { is_children_of_the_gate_member = yes } }
		join_children_of_the_gate = yes
	}
	else_if = {
		limit = { FROM = { is_fantasma_cartel_member = yes } }
		join_fantasma_cartel = yes
	}
	else_if = {
		limit = { FROM = { is_great_federation_member = yes } }
		join_great_federation = yes
	}
	else_if = {
		limit = { FROM = { is_jungle_pact_member = yes } }
		join_jungle_pact = yes
	}
	else_if = {
		limit = { FROM = { is_masters_new_army_member = yes } }
		join_masters_new_army = yes
	}
	else_if = {
		limit = { FROM = { is_mesoamerican_alliance_member = yes } }
		join_mesoamerican_alliance = yes
	}
	else_if = {
		limit = { FROM = { is_mojave_alliance_member = yes } }
		join_mojave_alliance = yes
	}
	else_if = {
		limit = { FROM = { is_mormon_alliance_member = yes } }
		join_mormon_alliance = yes
	}
	else_if = {
		limit = { FROM = { is_ncr_member = yes } }
		join_ncr = yes
	}
	else_if = {
		limit = { FROM = { is_nevada_enclave_member = yes } }
		join_nevada_enclave = yes
	}
	else_if = {
		limit = { FROM = { is_nevada_pact_member = yes } }
		join_nevada_pact = yes
	}
	else_if = {
		limit = { FROM = { is_northern_league_member = yes } }
		join_northern_league = yes
	}
	else_if = {
		limit = { FROM = { is_northern_mojave_pact_member = yes } }
		join_northern_mojave_pact = yes
	}
	else_if = {
		limit = { FROM = { is_phoenix_federation_member = yes } }
		join_phoenix_federation = yes
	}
	else_if = {
		limit = { FROM = { is_rio_pact_member = yes } }
		join_rio_pact = yes
	}
	else_if = {
		limit = { FROM = { is_unbroken_coast_member = yes } }
		join_unbroken_coast = yes
	}
	else_if = {
		limit = { FROM = { is_western_enclave_member = yes } }
		join_western_enclave = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] join_from_faction [From.GetName] (scripted_effect) exited"
	}
}

join_prev_faction = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] join_prev_faction [From.GetName] (scripted_effect) entered"
	}
	leave_current_faction = yes
	if = {
		limit = { PREV = { is_boneyard_brotherhood_member = yes } }
		join_boneyard_brotherhood = yes
	}
	else_if = {
		limit = { PREV = { is_brotherhood_of_steel_member = yes } }
		join_brotherhood_of_steel = yes
	}
	else_if = {
		limit = { PREV = { is_caesars_legion_member = yes } }
		join_caesars_legion = yes
	}
	else_if = {
		limit = { PREV = { is_children_of_mexico_member = yes } }
		join_children_of_mexico = yes
	}
	else_if = {
		limit = { PREV = { is_children_of_the_gate_member = yes } }
		join_children_of_the_gate = yes
	}
	else_if = {
		limit = { PREV = { is_fantasma_cartel_member = yes } }
		join_fantasma_cartel = yes
	}
	else_if = {
		limit = { PREV = { is_great_federation_member = yes } }
		join_great_federation = yes
	}
	else_if = {
		limit = { PREV = { is_jungle_pact_member = yes } }
		join_jungle_pact = yes
	}
	else_if = {
		limit = { PREV = { is_masters_new_army_member = yes } }
		join_masters_new_army = yes
	}
	else_if = {
		limit = { PREV = { is_mesoamerican_alliance_member = yes } }
		join_mesoamerican_alliance = yes
	}
	else_if = {
		limit = { PREV = { is_mojave_alliance_member = yes } }
		join_mojave_alliance = yes
	}
	else_if = {
		limit = { PREV = { is_mormon_alliance_member = yes } }
		join_mormon_alliance = yes
	}
	else_if = {
		limit = { PREV = { is_ncr_member = yes } }
		join_ncr = yes
	}
	else_if = {
		limit = { PREV = { is_nevada_enclave_member = yes } }
		join_nevada_enclave = yes
	}
	else_if = {
		limit = { PREV = { is_nevada_pact_member = yes } }
		join_nevada_pact = yes
	}
	else_if = {
		limit = { PREV = { is_northern_league_member = yes } }
		join_northern_league = yes
	}
	else_if = {
		limit = { PREV = { is_northern_mojave_pact_member = yes } }
		join_northern_mojave_pact = yes
	}
	else_if = {
		limit = { PREV = { is_phoenix_federation_member = yes } }
		join_phoenix_federation = yes
	}
	else_if = {
		limit = { PREV = { is_rio_pact_member = yes } }
		join_rio_pact = yes
	}
	else_if = {
		limit = { PREV = { is_unbroken_coast_member = yes } }
		join_unbroken_coast = yes
	}
	else_if = {
		limit = { PREV = { is_western_enclave_member = yes } }
		join_western_enclave = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] join_prev_faction [From.GetName] (scripted_effect) exited"
	}
}

join_root_faction = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] join_root_faction [From.GetName] (scripted_effect) entered"
	}
	leave_current_faction = yes
	if = {
		limit = { ROOT = { is_boneyard_brotherhood_member = yes } }
		join_boneyard_brotherhood = yes
	}
	else_if = {
		limit = { ROOT = { is_brotherhood_of_steel_member = yes } }
		join_brotherhood_of_steel = yes
	}
	else_if = {
		limit = { ROOT = { is_caesars_legion_member = yes } }
		join_caesars_legion = yes
	}
	else_if = {
		limit = { ROOT = { is_children_of_mexico_member = yes } }
		join_children_of_mexico = yes
	}
	else_if = {
		limit = { ROOT = { is_children_of_the_gate_member = yes } }
		join_children_of_the_gate = yes
	}
	else_if = {
		limit = { ROOT = { is_fantasma_cartel_member = yes } }
		join_fantasma_cartel = yes
	}
	else_if = {
		limit = { ROOT = { is_great_federation_member = yes } }
		join_great_federation = yes
	}
	else_if = {
		limit = { ROOT = { is_jungle_pact_member = yes } }
		join_jungle_pact = yes
	}
	else_if = {
		limit = { ROOT = { is_masters_new_army_member = yes } }
		join_masters_new_army = yes
	}
	else_if = {
		limit = { ROOT = { is_mesoamerican_alliance_member = yes } }
		join_mesoamerican_alliance = yes
	}
	else_if = {
		limit = { ROOT = { is_mojave_alliance_member = yes } }
		join_mojave_alliance = yes
	}
	else_if = {
		limit = { ROOT = { is_mormon_alliance_member = yes } }
		join_mormon_alliance = yes
	}
	else_if = {
		limit = { ROOT = { is_ncr_member = yes } }
		join_ncr = yes
	}
	else_if = {
		limit = { ROOT = { is_nevada_enclave_member = yes } }
		join_nevada_enclave = yes
	}
	else_if = {
		limit = { ROOT = { is_nevada_pact_member = yes } }
		join_nevada_pact = yes
	}
	else_if = {
		limit = { ROOT = { is_northern_league_member = yes } }
		join_northern_league = yes
	}
	else_if = {
		limit = { ROOT = { is_northern_mojave_pact_member = yes } }
		join_northern_mojave_pact = yes
	}
	else_if = {
		limit = { ROOT = { is_phoenix_federation_member = yes } }
		join_phoenix_federation = yes
	}
	else_if = {
		limit = { ROOT = { is_rio_pact_member = yes } }
		join_rio_pact = yes
	}
	else_if = {
		limit = { ROOT = { is_unbroken_coast_member = yes } }
		join_unbroken_coast = yes
	}
	else_if = {
		limit = { ROOT = { is_western_enclave_member = yes } }
		join_western_enclave = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] join_root_faction [From.GetName] (scripted_effect) exited"
	}
}

leave_current_faction = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] leave_current_faction (scripted_effect) entered"
	}
	if = {
		limit = { is_boneyard_brotherhood_member = yes }
		leave_boneyard_brotherhood = yes
	}
	else_if = {
		limit = { is_brotherhood_of_steel_member = yes }
		leave_brotherhood_of_steel = yes
	}
	else_if = {
		limit = { is_caesars_legion_member = yes }
		leave_caesars_legion = yes
	}
	else_if = {
		limit = { is_children_of_mexico_member = yes }
		leave_children_of_mexico = yes
	}
	else_if = {
		limit = { is_children_of_the_gate_member = yes }
		leave_children_of_the_gate = yes
	}
	else_if = {
		limit = { is_fantasma_cartel_member = yes }
		leave_fantasma_cartel = yes
	}
	else_if = {
		limit = { is_great_federation_member = yes }
		leave_great_federation = yes
	}
	else_if = {
		limit = { is_jungle_pact_member = yes }
		leave_jungle_pact = yes
	}
	else_if = {
		limit = { is_masters_new_army_member = yes }
		leave_masters_new_army = yes
	}
	else_if = {
		limit = { is_mesoamerican_alliance_member = yes }
		leave_mesoamerican_alliance = yes
	}
	else_if = {
		limit = { is_mojave_alliance_member = yes }
		leave_mojave_alliance = yes
	}
	else_if = {
		limit = { is_mormon_alliance_member = yes }
		leave_mormon_alliance = yes
	}
	else_if = {
		limit = { is_ncr_member = yes }
		leave_ncr = yes
	}
	else_if = {
		limit = { is_nevada_enclave_member = yes }
		leave_nevada_enclave = yes
	}
	else_if = {
		limit = { is_nevada_pact_member = yes }
		leave_nevada_pact = yes
	}
	else_if = {
		limit = { is_northern_league_member = yes }
		leave_northern_league = yes
	}
	else_if = {
		limit = { is_northern_mojave_pact_member = yes }
		leave_northern_mojave_pact = yes
	}
	else_if = {
		limit = { is_phoenix_federation_member = yes }
		leave_phoenix_federation = yes
	}
	else_if = {
		limit = { is_rio_pact_member = yes }
		leave_rio_pact = yes
	}
	else_if = {
		limit = { is_unbroken_coast_member = yes }
		leave_unbroken_coast = yes
	}
	else_if = {
		limit = { is_western_enclave_member = yes }
		leave_western_enclave = yes
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] leave_current_faction (scripted_effect) exited"
	}
}

become_puppet = {
	become_puppet_of_prev = yes
}

become_puppet_of_prev = {
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] become_puppet of [Prev.GetName] (scripted_effect) entered"
	}
	leave_current_faction = yes
	PREV = { puppet = PREV }
	hidden_effect = {
		if = {
			limit = { OVERLORD = { is_boneyard_brotherhood_member = yes } }
			mark_as_boneyard_brotherhood_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_brotherhood_of_steel_member = yes } }
			mark_as_brotherhood_of_steel_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_caesars_legion_member = yes } }
			mark_as_caesars_legion_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_children_of_mexico_member = yes } }
			mark_as_children_of_mexico_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_children_of_the_gate_member = yes } }
			mark_as_children_of_the_gate_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_fantasma_cartel_member = yes } }
			mark_as_fantasma_cartel_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_great_federation_member = yes } }
			mark_as_great_federation_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_jungle_pact_member = yes } }
			mark_as_jungle_pact_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_masters_new_army_member = yes } }
			mark_as_masters_new_army_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_mesoamerican_alliance_member = yes } }
			mark_as_mesoamerican_alliance_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_mojave_alliance_member = yes } }
			mark_as_mojave_alliance_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_mormon_alliance_member = yes } }
			mark_as_mormon_alliance_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_ncr_member = yes } }
			mark_as_ncr_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_nevada_enclave_member = yes } }
			mark_as_nevada_enclave_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_nevada_pact_member = yes } }
			mark_as_nevada_pact_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_northern_league_member = yes } }
			mark_as_northern_league_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_northern_mojave_pact_member = yes } }
			mark_as_northern_mojave_pact_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_phoenix_federation_member = yes } }
			mark_as_phoenix_federation_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_rio_pact_member = yes } }
			mark_as_rio_pact_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_unbroken_coast_member = yes } }
			mark_as_unbroken_coast_member = yes
		}
		else_if = {
			limit = { OVERLORD = { is_western_enclave_member = yes } }
			mark_as_western_enclave_member = yes
		}
	}
	if = {
		limit = { has_global_flag = debug_logs }
		log = "[GetDateText]: [This.GetName] become_puppet of [Prev.GetName] (scripted_effect) exited"
	}
}
# vim: set ft=pdx tw=79 :
